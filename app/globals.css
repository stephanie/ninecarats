@import 'tailwindcss';

@plugin "@tailwindcss/container-queries";
@plugin "@tailwindcss/typography";

@layer base {
  :root {
    --vh: 100vh;
    
    /* Google Fonts CSS Variables */
    --font-jost: 'Jost', sans-serif;
    --font-bellefair: 'Bellefair', serif;
    /* --color-primary-dark: #28262B;
    --color-primary: #736a79;
    --color-primary-light: #c9bfcf; */
    --color-primary-dark: #28262B;
    --color-primary: #273B3C;
    --color-primary-light: #c9bfcf;

    --navbar-height-desktop: 100px;
    --navbar-height-mobile: 120px;
  }

  /* Prevent flash of content before loader appears */
  html[data-loading="true"] body > *:not(script) {
    opacity: 0 !important;
    visibility: hidden !important;
  }

  /* Keep overflow hidden during loading */
  body.loading {
    overflow: hidden;
  }

  /* Animation utilities for better performance */
  .animate-on-scroll {
    will-change: transform, opacity;
  }
  
  .animate-on-scroll * {
    will-change: transform, opacity;
  }

  /* Help dialog animations */
  .help-dialog-enter {
    animation: helpDialogEnter 0.3s ease-out forwards;
  }

  @keyframes helpDialogEnter {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}

@supports (font: -apple-system-body) and (-webkit-appearance: none) {
  img[loading='lazy'] {
    clip-path: inset(0.6px);
  }
}

@theme {
  --font-header: var(--font-bellefair), "serif";
  --font-body: var(--font-jost), "sans-serif";
  --color-primary: var(--color-primary);
  --color-primary-dark: var(--color-primary-dark);
  --color-primary-light: var(--color-primary-light);
  --navbar-height-desktop: var(--navbar-height-desktop);
  --navbar-height-mobile: var(--navbar-height-mobile);
}

a,
input,
button {
  @apply focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-50 dark:focus-visible:ring-neutral-600 dark:focus-visible:ring-offset-neutral-900;
}

/* Mobile touch improvements */
@media (hover: none) and (pointer: coarse) {
  button {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    user-select: none;
  }
}

/* Override focus styles for borderless inputs */
input.borderless-input:focus-visible {
  outline: none !important;
  ring: none !important;
  box-shadow: none !important;
}
